# PII

## 2025-02-17

- From Data Engineering perspective: masking within data cleaning process
  - PII detection
    - piiscan
      - https://github.com/shanecurran/piiscan
      - https://libraries.io/pypi/piiscan
      - https://pypi.org/project/piiscan
    - pii-codex
      - https://github.com/EdyVision/pii-codex
      - https://libraries.io/pypi/pii-codex
      - https://pypi.org/project/pii-codex
- From ML Engineering perspective:
  - PII detection
    - CLEAR: Towards Contextual LLM-Empowered Privacy Policy Analysis and Risk Generation for Large Language Model Applications
      - https://arxiv.org/html/2410.13387v3
    - PII-Compass: Guiding LLM training data extraction prompts towards the target PII via grounding
      - https://arxiv.org/html/2407.02943v1
  - PII masking
    - LLM Gateway for PII Detection
      - https://huggingface.co/learn/cookbook/llm_gateway_pii_detection

### spaCy

- https://spacy.io/
  - https://spacy.io/universe/category/books

### pixie

- https://blog.px.dev/detect-pii/
- https://github.com/pixie-io/pixie/tree/main/src/datagen/pii/privy 
- https://huggingface.co/datasets/beki/privy/blob/main/privy.py
- https://huggingface.co/spaces/beki/pii-anonymizer/blob/main/app.py

### Presidio

- https://pypi.org/project/presidio-analyzer/


### Llama-Guard 3

- https://ollama.com/library/llama-guard3

## 2025-02-18

- https://www.perplexity.ai/search/are-there-python-library-to-de-P3SdGxVQR0eXaw278wNZQw

### Are there python library to detect PII within free format text

Yes, there are several Python libraries available for detecting Personally Identifiable Information (PII) within free-format text:

1. **piiscan**:
   - **Description**: A simple Python library optimized for detecting PII in text, especially network traffic and structured data like JSON objects.
   - **Features**: Uses `beki/en_spacy_pii_fast` and Microsoft Presidio for detection. It provides methods to scan and annotate detected PII entities.
   - **Installation**: Available on PyPI via `pip3 install piiscan`.
   - **Example Use**:
     ```python
     import piiscan

     original_value = "My name is John Doe, email john@doe.com."
     detected_pii = piiscan.scan(original_value)
     print(detected_pii)
     ```

2. **Presidio Analyzer**:
   - **Description**: A Python-based service that detects PII entities using various recognizers based on regex, NER, etc.
   - **Features**: Supports predefined recognizers and allows custom extensions.
   - **Installation**: Refer to the Presidio documentation for installation instructions.

3. **pii-codex**:
   - **Description**: A research-oriented library focused on detecting, categorizing, and assessing the severity of PII in texts.
   - **Features**: Provides adapters for integrating with other detection tools like Azure or AWS Comprehend.
   - **Installation & Usage**:
     ```bash
     pip install pii-codex
     ```
   
4. For more advanced use cases involving unstructured data types (like call center transcripts), tools like Gretel's Transform v2 offer powerful NER capabilities but might require additional setup beyond a simple Python library[2].

These libraries can be used depending on your specific requirements regarding accuracy, customization needs, and integration with other systems.

Citations:
[1] https://github.com/shanecurran/piiscan
[2] https://gretel.ai/blog/detect-and-redact-pii-in-free-text-with-ner-in-transform-v2
[3] https://microsoft.github.io/presidio/analyzer/
[4] https://www.phdata.io/blog/how-to-identify-pii-in-text-fields-and-redact-it/
[5] https://learn.microsoft.com/en-us/azure/ai-services/language-service/personally-identifiable-information/quickstart
[6] https://nsuworks.nova.edu/cgi/viewcontent.cgi?article=1531&context=gscis_facarticles
[7] https://www.theoj.org/joss-papers/joss.05402/10.21105.joss.05402.pdf
[8] https://github.com/EdyVision/pii-codex

### are there python library to mask PII data within plain text CSV file?

Yes, there are several Python libraries and methods you can use to mask PII data within plain text CSV files:

1. **Pandas with Custom Masking Functions**:
   - You can use pandas to read and manipulate CSV files. By applying custom functions, you can mask sensitive data such as social security numbers or email addresses.
   - **Example Code**:
     ```python
     import pandas as pd

     # Load the CSV file
     df = pd.read_csv('yourfile.csv')

     # Mask sensitive columns
     df['social_security_number'] = df['social_security_number'].apply(lambda x: "********" if str(x).isdigit() else x)
     df['email'] = df['email'].apply(lambda x: 'masked_email@example.com' if '@' in str(x) else x)

     # Save the masked data to a new CSV file
     df.to_csv('masked_data.csv', index=False)
     ```

2. **Data Masking Utilities (GitHub Project)**:
   - This project provides utilities for masking sensitive data using fake values generated by the `fake-factory` module.
   - It includes scripts like `DemographicsMasking.py` that replace real demographic information with fake equivalents[4].

3. **Anonymizedf Library**:
   - This library uses pandas and faker to substitute original columns with masked substitutes, making it easy to anonymize datasets[5].

4. **IRI FieldShield (Not a pure Python library but integrates well)**:
   - While not exclusively a Python library, IRI FieldShield offers robust PII masking capabilities for various file formats, including CSV, through its integration tools[1]. However, it requires additional setup beyond simple Python scripting.

These tools allow you to effectively mask PII in plain text CSV files using Python or related frameworks.

Citations:
[1] https://www.iri.com/blog/data-protection/pii-masking-csv-files/
[2] https://dagster.io/glossary/data-masking
[3] https://www.youtube.com/watch?v=f7sNRCnLujs
[4] https://github.com/bchan01/data-masking-utils
[5] https://mostly.ai/blog/data-anonymization-in-python
[6] https://stackoverflow.com/questions/56999525/how-to-mask-specific-values-in-particular-column-in-python
[7] https://www.megabytesandme.com/using-python-to-anonymise-a-dataset/
[8] https://www.kaggle.com/discussions/questions-and-answers/396820